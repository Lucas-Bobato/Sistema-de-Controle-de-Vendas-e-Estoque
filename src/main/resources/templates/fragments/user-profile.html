<!doctype html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
  <head>
    <link
      rel="stylesheet"
      th:href="@{/vendor/bootstrap-icons/bootstrap-icons.min.css}"
    />
    <link rel="stylesheet" href="/styles/style.css" />
    <link rel="stylesheet" href="/styles/config.css" />

  </head>
  <body>
    <div th:fragment="header-profile" class="user-profile">
      <label class="theme-switch" for="theme-checkbox">
          <input type="checkbox" id="theme-checkbox" />
          <div class="slider round"></div>
      </label>
  
      <div class="user-profile">
        <div class="notification-container">
            <div class="notification-icon" id="notification-bell">
                <i class="bi bi-bell"></i>
                <span class="notification-count" style="display: none;"></span>
            </div>
            <div class="notification-dropdown" id="notification-dropdown" style="display: none;">
                <div class="notification-header">
                    Notificações
                </div>
                <div id="notification-list">
                    </div>
                <div class="notification-footer">
                    <a href="#">Ver todas</a>
                </div>
            </div>
        </div>
        </div>
        
    <a th:href="@{/perfil}" class="user-avatar-link">
        <div class="user-avatar">
          <img th:if="${#authentication.principal.fotoPerfil != null && !#authentication.principal.fotoPerfil.isEmpty()}"
     th:src="@{/usuarios/{id}/foto(id=${#authentication.principal.id}, v=${#dates.createNow().getTime()})}"
     alt="Foto de Perfil"
     class="profile-avatar-image"/>
            
            <div th:if="${#authentication.principal.fotoPerfil == null || #authentication.principal.fotoPerfil.isEmpty()}" class="profile-avatar-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                </svg>
            </div>
        </div>
    </a>
    <script src="/js/config.js"></script>
  </body>
</html>